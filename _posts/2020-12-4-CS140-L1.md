---
layout: post
title: "[ CS140 1-Introduction] Slides 笔记"
date: 2020-12-4   10:01:59 +0800
category: Technology
tags: CS140 
img: https://sn3301files.storage.live.com/y4mW3_mFVAgEIA2KzHs1hTHkuKO8dZncQwaLfMBLw8uPQPIA2w5Y26PNNHVFIrfJVJupPl6A7ORa9TiLBUkPkgJXl7mLq7UtqJ9dh0sgKfvvXVFW9NfHfzLvIwmLd08UQRd1-pAbPeCforI01rYgSckH3T_SNVLFdOVL3GE0PYNoDjGQ4mhuNco7SUMMvmdPpbN?width=441&height=229&cropmode=none
describe:  On the way of Operation System

---

## Intro

- This page is based on [CS 140: Operating Systems (stanford.edu)](http://web.stanford.edu/~ouster/cgi-bin/cs140-spring20/index.php)

- Homeworks and Slides can be found at [CS140 Lecture notes (stanford.edu)](http://www.scs.stanford.edu/20wi-cs140/notes/)
- Backup on my [Onedrive]() https://1drv.ms/u/s!Au3reWMu7K2ChIp_v_ywDUA3QhkIAA?e=btMkiE)



## 操作系统概论

### 原始操作系统

![image-20201204140048431](https://sn3301files.storage.live.com/y4mh0qpst6d3FEypH6IoGiDxVjKKCdGpKHMhSC5bZfyyt1yZYYUec9SstWLT4whtooAqjlrgUgLC7tzeaJpD6rN_fIRehWu8pGaErnnqxFjvqFVn_uirLresyku0tC2C2vthbApgnPJjYLtsiKAialJTFBf3Ywex3bk3eJU92oZab021xVAJ7d1sNwzihUUdGQt?width=1024&height=473&cropmode=none)

- 系统一次只能运行一个程序
  - OS 和 硬件都被 APP 唯一占用

### 多线程

相比原始操作系统，一次可以运行多个程序

但原始的多线程有诸多问题

- 无限循环

  - 比如[叉炸弹](https://zh.m.wikipedia.org/zh-hans/Fork%E7%82%B8%E5%BC%B9)
  - 可以利用 权限 来解决

- 内存访问无限制，会有安全问题

  - 可以用 内存隔离 来解决

  
### 多用户操作系统

![](https://sn3301files.storage.live.com/y4m2MKgQtle0L3ijuplaxMdkRUXbeqyalVj5tj_2hXetgcmxsmdC4bLLQCny9EN3PenhA4o5cfkk-slNREGrw2OdUdNTOQOJQ6HoINX6uss5iALIF2uAZEzWPLLq_LJxv_vuqs8NpxaVOikkYhYb8emWcpPYv8RTEpU1Tb129YTuEv-oImS0KiSskSKGQF0Mngq?width=1024&height=641&cropmode=none)

用户需要什么就给什么，但依旧会存在一些问题：

- 程序太贪了 (Chrome吃内存)
- 当每个程序都申请内存的时候，申请内存的总量大于物理内存
  - 解决: 虚拟化 (virtual memory, swap etc.)
- Super-linear slowdown with increasing demand (thrashing) （原文）
  - 比如开了N个程序，每个程序只能分到 1/N 的资源
  - 随着程序的线性增加，每个程序更处理不完，最终<del>堵马桶</del>



### 操作系统保护

核心思想：隔离

- 抢占式： 给应用程序一个资源，如果别的程序需要的话，就移走它
- 中间层： OS用一些数据结构（比如表）来查询权限，OS会在程序访问底层的时候提供权限管理
- root / user ：特权模式

